{"ast":null,"code":"var _jsxFileName = \"/Users/mirror/WindSurf Projects/retro_arif/retromeet/frontend/react-admin/src/pages/Summary.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Chip from '@mui/material/Chip';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\nimport Snackbar from '@mui/material/Snackbar';\nimport IconButton from '@mui/material/IconButton';\nimport TextField from '@mui/material/TextField';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport ErrorIcon from '@mui/icons-material/Error';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport LightbulbIcon from '@mui/icons-material/Lightbulb';\nimport AssignmentIcon from '@mui/icons-material/Assignment';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport ReactMarkdown from 'react-markdown';\nimport { generateSummary, getSummary } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Summary() {\n  _s();\n  const {\n    projectId\n  } = useParams();\n  const [summary, setSummary] = useState(null);\n  const [editingActionItems, setEditingActionItems] = useState([]);\n  const [actionItemsChanged, setActionItemsChanged] = useState(false);\n  const [loading, setLoading] = useState(false); // Start with no loading, summary is null\n  const [generating, setGenerating] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\n  const [projectName, setProjectName] = useState('');\n  useEffect(() => {\n    // Fetch project name\n    async function fetchProject() {\n      try {\n        const res = await import('../services/api');\n        const {\n          getProject\n        } = res;\n        const response = await getProject(projectId);\n        setProjectName(response.data.name || '');\n      } catch (error) {\n        setProjectName('');\n      }\n    }\n    fetchProject();\n  }, [projectId]);\n\n  // useEffect will not fetch summary on initial load.\n  // Summary will be fetched when 'Regenerate Summary' is clicked.\n  // If you want to load a previously saved summary, you would call getSummary here.\n  // For now, we start with a blank page for summary content.\n  useEffect(() => {\n    // Optional: If you implement getSummary and want to load on mount:\n    // const loadInitialSummary = async () => {\n    //   setLoading(true);\n    //   try {\n    //     const response = await getSummary(projectId); // Assuming getSummary fetches the new JSON structure\n    //     if (response.data) {\n    //       setSummary(response.data);\n    //       setSnackbarMessage('Summary loaded');\n    //       setSnackbarSeverity('info');\n    //       setSnackbarOpen(true);\n    //     } else {\n    //       setSummary(null); // Ensure summary is null if no data\n    //     }\n    //   } catch (error) {\n    //     if (error.response && error.response.status === 404) {\n    //       setSummary(null); // No summary found, which is fine initially\n    //       console.log('No pre-existing summary found.');\n    //     } else {\n    //       console.error('Error fetching initial summary:', error);\n    //       setSnackbarMessage('Failed to load existing summary');\n    //       setSnackbarSeverity('error');\n    //       setSnackbarOpen(true);\n    //     }\n    //   }\n    //   setLoading(false);\n    // };\n    // loadInitialSummary();\n  }, [projectId]);\n  const handleGenerateSummary = async () => {\n    setGenerating(true);\n    setSummary(null); // Clear previous summary before generating a new one\n    try {\n      const response = await generateSummary(projectId); // API call\n      setSummary(response.data); // response.data should be the structured JSON\n      setEditingActionItems(response.data.action_items.map((item, idx) => ({\n        ...item,\n        _tmpId: idx\n      })));\n      setActionItemsChanged(false);\n      setSnackbarMessage('Summary generated successfully');\n      setSnackbarSeverity('success');\n    } catch (error) {\n      console.error('Error generating summary:', error);\n      let message = 'Failed to generate summary.';\n      if (error.response && error.response.data && error.response.data.detail) {\n        message = typeof error.response.data.detail === 'string' ? error.response.data.detail : JSON.stringify(error.response.data.detail);\n      }\n      setSnackbarMessage(message);\n      setSnackbarSeverity('error');\n    } finally {\n      setGenerating(false);\n      setSnackbarOpen(true);\n    }\n  };\n  const handleDownloadSummary = () => {\n    if (!summary) return;\n    const content = `\n# ${summary.title}\n\n${summary.overview}\n\n${summary.key_themes || '## Key Themes\\n\\nNot available.'}\n\n${summary.positives}\n\n${summary.improvements}\n\n## Action Items\n\n${summary.action_items.map(item => `- ${item.description} (Priority: ${item.priority})`).join('\\n')}\n\nGenerated at: ${new Date().toLocaleString()} (Note: 'generated_at' from backend not directly used here, assuming fresh download)\n    `;\n    const blob = new Blob([content], {\n      type: 'text/markdown'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${summary.title.replace(/\\s+/g, '-').toLowerCase()}.md`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbarOpen(false);\n  };\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    }).format(date);\n  };\n  const getStatusChip = status => {\n    switch (status) {\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"Completed\",\n          color: \"success\",\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 16\n        }, this);\n      case 'in_progress':\n        return /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"In Progress\",\n          color: \"primary\",\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 16\n        }, this);\n      case 'pending':\n        return /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"Pending\",\n          color: \"warning\",\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Chip, {\n          label: status,\n          size: \"small\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: projectName ? `${projectName} Sprint Summary` : 'Sprint Summary'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 24\n          }, this),\n          onClick: handleGenerateSummary,\n          disabled: generating,\n          sx: {\n            mr: 2\n          },\n          children: generating ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 27\n          }, this) : 'Regenerate Summary'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 24\n          }, this),\n          onClick: handleDownloadSummary,\n          disabled: !summary || generating,\n          children: \"Download Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        py: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this) : summary ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            gutterBottom: true,\n            children: summary.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            gutterBottom: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"markdown-content\",\n            children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n              children: summary.overview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 3,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n                color: \"success\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: \"What Went Well\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"markdown-content\",\n              children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                children: summary.positives\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 3,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(LightbulbIcon, {\n                color: \"info\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: \"Key Themes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"markdown-content\",\n              children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                children: summary.key_themes || \"No key themes identified.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            sx: {\n              p: 3,\n              height: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(WarningIcon, {\n                color: \"warning\",\n                sx: {\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                children: \"What Could Be Improved\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              sx: {\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"markdown-content\",\n              children: /*#__PURE__*/_jsxDEV(ReactMarkdown, {\n                children: summary.improvements\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              mb: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(AssignmentIcon, {\n              color: \"primary\",\n              sx: {\n                mr: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: \"Action Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(List, {\n            children: editingActionItems.map((item, idx) => /*#__PURE__*/_jsxDEV(ListItem, {\n              divider: true,\n              secondaryAction: /*#__PURE__*/_jsxDEV(IconButton, {\n                edge: \"end\",\n                \"aria-label\": \"delete\",\n                onClick: () => {\n                  setEditingActionItems(editingActionItems.filter((_, i) => i !== idx));\n                  setActionItemsChanged(true);\n                },\n                children: /*#__PURE__*/_jsxDEV(ErrorIcon, {\n                  color: \"error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 21\n              }, this),\n              children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                children: /*#__PURE__*/_jsxDEV(LightbulbIcon, {\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: /*#__PURE__*/_jsxDEV(TextField, {\n                  variant: \"standard\",\n                  value: item.description,\n                  onChange: e => {\n                    const newItems = [...editingActionItems];\n                    newItems[idx].description = e.target.value;\n                    setEditingActionItems(newItems);\n                    setActionItemsChanged(true);\n                  },\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 25\n                }, this),\n                secondary: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    flexWrap: 'wrap',\n                    gap: 1,\n                    mt: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    label: \"Priority\",\n                    variant: \"outlined\",\n                    size: \"small\",\n                    value: item.priority,\n                    onChange: e => {\n                      const newItems = [...editingActionItems];\n                      newItems[idx].priority = e.target.value;\n                      setEditingActionItems(newItems);\n                      setActionItemsChanged(true);\n                    },\n                    sx: {\n                      width: 120\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this)]\n            }, item._tmpId, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              justifyContent: 'flex-end',\n              mt: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              disabled: !actionItemsChanged,\n              onClick: async () => {\n                try {\n                  const updatedSummary = {\n                    ...summary,\n                    action_items: editingActionItems.map(({\n                      _tmpId,\n                      ...rest\n                    }) => rest)\n                  };\n                  await import('../services/api').then(({\n                    updateSummary\n                  }) => updateSummary(projectId, updatedSummary));\n                  setSummary(updatedSummary);\n                  setActionItemsChanged(false);\n                  setSnackbarMessage('Action Items updated successfully');\n                  setSnackbarSeverity('success');\n                  setSnackbarOpen(true);\n                } catch (error) {\n                  setSnackbarMessage('Failed to update Action Items');\n                  setSnackbarSeverity('error');\n                  setSnackbarOpen(true);\n                }\n              },\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center',\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        gutterBottom: true,\n        children: \"No summary has been generated yet for this project.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(RefreshIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 24\n        }, this),\n        onClick: handleGenerateSummary,\n        disabled: generating,\n        sx: {\n          mt: 2\n        },\n        children: generating ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 27\n        }, this) : 'Generate Summary'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbarOpen,\n      autoHideDuration: 4000,\n      onClose: handleCloseSnackbar,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'right'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbarSeverity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbarMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 175,\n    columnNumber: 5\n  }, this);\n}\n_s(Summary, \"24tO7xtpdWgYHXd19fOQQ+orz9s=\", false, function () {\n  return [useParams];\n});\n_c = Summary;\nexport default Summary;\nvar _c;\n$RefreshReg$(_c, \"Summary\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Typography","Box","Card","CardContent","Button","Paper","Grid","Divider","List","ListItem","ListItemText","ListItemIcon","Chip","CircularProgress","Alert","Snackbar","IconButton","TextField","CheckCircleIcon","ErrorIcon","WarningIcon","LightbulbIcon","AssignmentIcon","RefreshIcon","DownloadIcon","ReactMarkdown","generateSummary","getSummary","jsxDEV","_jsxDEV","Fragment","_Fragment","Summary","_s","projectId","summary","setSummary","editingActionItems","setEditingActionItems","actionItemsChanged","setActionItemsChanged","loading","setLoading","generating","setGenerating","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","snackbarSeverity","setSnackbarSeverity","projectName","setProjectName","fetchProject","res","getProject","response","data","name","error","handleGenerateSummary","action_items","map","item","idx","_tmpId","console","message","detail","JSON","stringify","handleDownloadSummary","content","title","overview","key_themes","positives","improvements","description","priority","join","Date","toLocaleString","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","replace","toLowerCase","body","appendChild","click","removeChild","revokeObjectURL","handleCloseSnackbar","formatDate","dateString","date","Intl","DateTimeFormat","year","month","day","format","getStatusChip","status","label","color","size","fileName","_jsxFileName","lineNumber","columnNumber","sx","flexGrow","children","display","justifyContent","alignItems","mb","variant","component","gutterBottom","startIcon","onClick","disabled","mr","py","my","className","container","spacing","xs","md","p","height","mt","divider","secondaryAction","edge","filter","_","i","primary","value","onChange","e","newItems","target","fullWidth","secondary","flexWrap","gap","width","updatedSummary","rest","then","updateSummary","textAlign","open","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","_c","$RefreshReg$"],"sources":["/Users/mirror/WindSurf Projects/retro_arif/retromeet/frontend/react-admin/src/pages/Summary.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Grid from '@mui/material/Grid';\nimport Divider from '@mui/material/Divider';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Chip from '@mui/material/Chip';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\nimport Snackbar from '@mui/material/Snackbar';\nimport IconButton from '@mui/material/IconButton';\nimport TextField from '@mui/material/TextField';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport ErrorIcon from '@mui/icons-material/Error';\nimport WarningIcon from '@mui/icons-material/Warning';\nimport LightbulbIcon from '@mui/icons-material/Lightbulb';\nimport AssignmentIcon from '@mui/icons-material/Assignment';\nimport RefreshIcon from '@mui/icons-material/Refresh';\nimport DownloadIcon from '@mui/icons-material/Download';\nimport ReactMarkdown from 'react-markdown';\nimport { generateSummary, getSummary } from '../services/api';\n\nfunction Summary() {\n  const { projectId } = useParams();\n  const [summary, setSummary] = useState(null);\nconst [editingActionItems, setEditingActionItems] = useState([]);\nconst [actionItemsChanged, setActionItemsChanged] = useState(false);\n  const [loading, setLoading] = useState(false); // Start with no loading, summary is null\n  const [generating, setGenerating] = useState(false);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\n  const [projectName, setProjectName] = useState('');\n\n  useEffect(() => {\n    // Fetch project name\n    async function fetchProject() {\n      try {\n        const res = await import('../services/api');\n        const { getProject } = res;\n        const response = await getProject(projectId);\n        setProjectName(response.data.name || '');\n      } catch (error) {\n        setProjectName('');\n      }\n    }\n    fetchProject();\n  }, [projectId]);\n\n    // useEffect will not fetch summary on initial load.\n  // Summary will be fetched when 'Regenerate Summary' is clicked.\n  // If you want to load a previously saved summary, you would call getSummary here.\n  // For now, we start with a blank page for summary content.\n  useEffect(() => {\n    // Optional: If you implement getSummary and want to load on mount:\n    // const loadInitialSummary = async () => {\n    //   setLoading(true);\n    //   try {\n    //     const response = await getSummary(projectId); // Assuming getSummary fetches the new JSON structure\n    //     if (response.data) {\n    //       setSummary(response.data);\n    //       setSnackbarMessage('Summary loaded');\n    //       setSnackbarSeverity('info');\n    //       setSnackbarOpen(true);\n    //     } else {\n    //       setSummary(null); // Ensure summary is null if no data\n    //     }\n    //   } catch (error) {\n    //     if (error.response && error.response.status === 404) {\n    //       setSummary(null); // No summary found, which is fine initially\n    //       console.log('No pre-existing summary found.');\n    //     } else {\n    //       console.error('Error fetching initial summary:', error);\n    //       setSnackbarMessage('Failed to load existing summary');\n    //       setSnackbarSeverity('error');\n    //       setSnackbarOpen(true);\n    //     }\n    //   }\n    //   setLoading(false);\n    // };\n    // loadInitialSummary();\n  }, [projectId]);\n\n  const handleGenerateSummary = async () => {\n    setGenerating(true);\n    setSummary(null); // Clear previous summary before generating a new one\n    try {\n      const response = await generateSummary(projectId); // API call\n      setSummary(response.data); // response.data should be the structured JSON\n      setEditingActionItems(response.data.action_items.map((item, idx) => ({ ...item, _tmpId: idx })));\n      setActionItemsChanged(false);\n      setSnackbarMessage('Summary generated successfully');\n      setSnackbarSeverity('success');\n    } catch (error) {\n      console.error('Error generating summary:', error);\n      let message = 'Failed to generate summary.';\n      if (error.response && error.response.data && error.response.data.detail) {\n        message = typeof error.response.data.detail === 'string' ? error.response.data.detail : JSON.stringify(error.response.data.detail);\n      }\n      setSnackbarMessage(message);\n      setSnackbarSeverity('error');\n    } finally {\n      setGenerating(false);\n      setSnackbarOpen(true);\n    }\n  };\n\n  const handleDownloadSummary = () => {\n    if (!summary) return;\n    \n    const content = `\n# ${summary.title}\n\n${summary.overview}\n\n${summary.key_themes || '## Key Themes\\n\\nNot available.'}\n\n${summary.positives}\n\n${summary.improvements}\n\n## Action Items\n\n${summary.action_items.map(item => `- ${item.description} (Priority: ${item.priority})`).join('\\n')}\n\nGenerated at: ${new Date().toLocaleString()} (Note: 'generated_at' from backend not directly used here, assuming fresh download)\n    `;\n    \n    const blob = new Blob([content], { type: 'text/markdown' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${summary.title.replace(/\\s+/g, '-').toLowerCase()}.md`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbarOpen(false);\n  };\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return new Intl.DateTimeFormat('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    }).format(date);\n  };\n\n  const getStatusChip = (status) => {\n    switch (status) {\n      case 'completed':\n        return <Chip label=\"Completed\" color=\"success\" size=\"small\" />;\n      case 'in_progress':\n        return <Chip label=\"In Progress\" color=\"primary\" size=\"small\" />;\n      case 'pending':\n        return <Chip label=\"Pending\" color=\"warning\" size=\"small\" />;\n      default:\n        return <Chip label={status} size=\"small\" />;\n    }\n  };\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          {projectName ? `${projectName} Sprint Summary` : 'Sprint Summary'}\n        </Typography>\n        <Box>\n          <Button \n            variant=\"outlined\" \n            startIcon={<RefreshIcon />}\n            onClick={handleGenerateSummary}\n            disabled={generating}\n            sx={{ mr: 2 }}\n          >\n            {generating ? <CircularProgress size={24} /> : 'Regenerate Summary'}\n          </Button>\n          <Button \n            variant=\"contained\" \n            startIcon={<DownloadIcon />}\n            onClick={handleDownloadSummary}\n            disabled={!summary || generating}\n          >\n            Download Summary\n          </Button>\n        </Box>\n      </Box>\n\n      {loading ? (\n        <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n          <CircularProgress />\n        </Box>\n      ) : summary ? (\n        <>\n          <Card sx={{ mb: 4 }}>\n            <CardContent>\n              <Typography variant=\"h5\" gutterBottom>\n                {summary.title}\n              </Typography>\n              <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                {/* Generated on: {new Date(summary.generated_at).toLocaleString()} */}\n              {/* We don't get generated_at from the new backend structure for the main summary object, but can add if needed */}\n              </Typography>\n              <Divider sx={{ my: 2 }} />\n              <div className=\"markdown-content\">\n                <ReactMarkdown>{summary.overview}</ReactMarkdown>\n              </div>\n            </CardContent>\n          </Card>\n\n          <Grid container spacing={4}>\n            <Grid item xs={12} md={6}>\n              <Paper sx={{ p: 3, height: '100%' }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                  <CheckCircleIcon color=\"success\" sx={{ mr: 1 }} />\n                  <Typography variant=\"h6\">What Went Well</Typography>\n                </Box>\n                <Divider sx={{ mb: 2 }} />\n                <div className=\"markdown-content\">\n                  <ReactMarkdown>{summary.positives}</ReactMarkdown>\n                </div>\n              </Paper>\n            </Grid>\n\n            {/* Key Themes Section */}\n            <Grid item xs={12} md={6}>\n              <Paper sx={{ p: 3, height: '100%' }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                  <LightbulbIcon color=\"info\" sx={{ mr: 1 }} />\n                  <Typography variant=\"h6\">Key Themes</Typography>\n                </Box>\n                <Divider sx={{ mb: 2 }} />\n                <div className=\"markdown-content\">\n                  <ReactMarkdown>{summary.key_themes || \"No key themes identified.\"}</ReactMarkdown>\n                </div>\n              </Paper>\n            </Grid>\n            \n            <Grid item xs={12} md={6}>\n              <Paper sx={{ p: 3, height: '100%' }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                  <WarningIcon color=\"warning\" sx={{ mr: 1 }} />\n                  <Typography variant=\"h6\">What Could Be Improved</Typography>\n                </Box>\n                <Divider sx={{ mb: 2 }} />\n                <div className=\"markdown-content\">\n                  <ReactMarkdown>{summary.improvements}</ReactMarkdown>\n                </div>\n              </Paper>\n            </Grid>\n          </Grid>\n\n          <Box sx={{ mt: 4 }}>\n            <Paper sx={{ p: 3 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                <AssignmentIcon color=\"primary\" sx={{ mr: 1 }} />\n                <Typography variant=\"h6\">Action Items</Typography>\n              </Box>\n              <Divider sx={{ mb: 2 }} />\n              <List>\n                {editingActionItems.map((item, idx) => (\n                  <ListItem key={item._tmpId} divider secondaryAction={\n                    <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => {\n                      setEditingActionItems(editingActionItems.filter((_, i) => i !== idx));\n                      setActionItemsChanged(true);\n                    }}>\n                      <ErrorIcon color=\"error\" />\n                    </IconButton>\n                  }>\n                    <ListItemIcon>\n                      <LightbulbIcon color=\"primary\" />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={\n                        <TextField\n                          variant=\"standard\"\n                          value={item.description}\n                          onChange={e => {\n                            const newItems = [...editingActionItems];\n                            newItems[idx].description = e.target.value;\n                            setEditingActionItems(newItems);\n                            setActionItemsChanged(true);\n                          }}\n                          fullWidth\n                        />\n                      }\n                      secondary={\n                        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mt: 1 }}>\n                          <TextField\n                            label=\"Priority\"\n                            variant=\"outlined\"\n                            size=\"small\"\n                            value={item.priority}\n                            onChange={e => {\n                              const newItems = [...editingActionItems];\n                              newItems[idx].priority = e.target.value;\n                              setEditingActionItems(newItems);\n                              setActionItemsChanged(true);\n                            }}\n                            sx={{ width: 120 }}\n                          />\n                        </Box>\n                      }\n                    />\n                  </ListItem>\n                ))}\n              </List>\n              <Box sx={{ display: 'flex', justifyContent: 'flex-end', mt: 2 }}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={!actionItemsChanged}\n                  onClick={async () => {\n                    try {\n                      const updatedSummary = { ...summary, action_items: editingActionItems.map(({_tmpId, ...rest}) => rest) };\n                      await import('../services/api').then(({ updateSummary }) => updateSummary(projectId, updatedSummary));\n                      setSummary(updatedSummary);\n                      setActionItemsChanged(false);\n                      setSnackbarMessage('Action Items updated successfully');\n                      setSnackbarSeverity('success');\n                      setSnackbarOpen(true);\n                    } catch (error) {\n                      setSnackbarMessage('Failed to update Action Items');\n                      setSnackbarSeverity('error');\n                      setSnackbarOpen(true);\n                    }\n                  }}\n                >\n                  Save\n                </Button>\n              </Box>\n            </Paper>\n          </Box>\n        </>\n      ) : (\n        <Box sx={{ textAlign: 'center', py: 4 }}>\n          <Typography variant=\"body1\" gutterBottom>\n            No summary has been generated yet for this project.\n          </Typography>\n          <Button \n            variant=\"contained\" \n            startIcon={<RefreshIcon />}\n            onClick={handleGenerateSummary}\n            disabled={generating}\n            sx={{ mt: 2 }}\n          >\n            {generating ? <CircularProgress size={24} /> : 'Generate Summary'}\n          </Button>\n        </Box>\n      )}\n\n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbarOpen}\n        autoHideDuration={4000}\n        onClose={handleCloseSnackbar}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\n      >\n        <Alert onClose={handleCloseSnackbar} severity={snackbarSeverity} sx={{ width: '100%' }}>\n          {snackbarMessage}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n}\n\nexport default Summary;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}