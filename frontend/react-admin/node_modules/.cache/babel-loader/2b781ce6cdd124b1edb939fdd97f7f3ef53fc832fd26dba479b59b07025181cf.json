{"ast":null,"code":"var _jsxFileName = \"/Users/mirror/WindSurf Projects/retro_arif/retromeet/frontend/react-admin/src/pages/Participants.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport TextField from '@mui/material/TextField';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport PhotoIcon from '@mui/icons-material/Photo';\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert from '@mui/material/Alert';\nimport FormControl from '@mui/material/FormControl';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport Select from '@mui/material/Select';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport { getProjectParticipants, getAllParticipants, createParticipant, addParticipantToProject, removeParticipantFromProject, uploadAvatar } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Participants() {\n  _s();\n  const {\n    projectId\n  } = useParams(); // This is a string\n  const [participants, setParticipants] = useState([]);\n  const [allParticipants, setAllParticipants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [openAddDialog, setOpenAddDialog] = useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [participantToDelete, setParticipantToDelete] = useState(null);\n  const [newParticipantName, setNewParticipantName] = useState('');\n  const [avatarFile, setAvatarFile] = useState(null); // This will hold the File object\n  const [selectedExistingParticipant, setSelectedExistingParticipant] = useState('');\n  const [addParticipantTab, setAddParticipantTab] = useState(0); // 0 = New, 1 = Existing\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\n\n  // Fetch project participants\n  const fetchProjectParticipants = useCallback(async () => {\n    setLoading(true);\n    try {\n      console.log(`[Participants.js] Fetching participants for project ID: ${projectId}`);\n      const response = await getProjectParticipants(projectId);\n      setParticipants(Array.isArray(response.data) ? response.data : []);\n      console.log('[Participants.js] Fetched participants:', response.data);\n    } catch (error) {\n      console.error('[Participants.js] Error fetching project participants:', error);\n      setSnackbarMessage(`Error fetching participants: ${error.message}`);\n      setSnackbarSeverity('error');\n      setSnackbarOpen(true);\n      setParticipants([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n\n  // Fetch all participants\n  const fetchAllParticipants = useCallback(async () => {\n    try {\n      console.log('[Participants.js] Fetching all participants');\n      const response = await getAllParticipants();\n      setAllParticipants(Array.isArray(response.data) ? response.data : []);\n      console.log('[Participants.js] Fetched all participants:', response.data);\n    } catch (error) {\n      console.error('[Participants.js] Error fetching all participants:', error);\n    }\n  }, []);\n  useEffect(() => {\n    fetchProjectParticipants();\n    fetchAllParticipants();\n  }, [fetchProjectParticipants, fetchAllParticipants]);\n  const handleAddDialogOpen = () => {\n    setOpenAddDialog(true);\n    setNewParticipantName('');\n    setAvatarFile(null);\n    setSelectedExistingParticipant('');\n    setAddParticipantTab(0); // Default to 'New Participant' tab\n  };\n  const handleAddDialogClose = () => {\n    setOpenAddDialog(false);\n    setNewParticipantName('');\n    setAvatarFile(null);\n    setSelectedExistingParticipant('');\n  };\n  const handleTabChange = (event, newValue) => {\n    setAddParticipantTab(newValue);\n  };\n  const handleDeleteDialogOpen = participant => {\n    setParticipantToDelete(participant);\n    setOpenDeleteDialog(true);\n  };\n  const handleDeleteDialogClose = () => {\n    setOpenDeleteDialog(false);\n    setParticipantToDelete(null);\n  };\n  const handleAddParticipant = async () => {\n    if (addParticipantTab === 0) {\n      // Adding a new participant\n      if (!newParticipantName.trim()) {\n        setSnackbarMessage('Participant name cannot be empty.');\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n        return;\n      }\n      try {\n        let uploadedAvatarFilename = null;\n        if (avatarFile) {\n          const formData = new FormData();\n          formData.append('file', avatarFile);\n          console.log('[Participants.js] Uploading avatar:', avatarFile.name);\n          const avatarUploadResponse = await uploadAvatar(formData);\n          uploadedAvatarFilename = avatarUploadResponse.data.filename;\n          console.log('[Participants.js] Avatar uploaded, filename:', uploadedAvatarFilename);\n        }\n        const participantData = {\n          name: newParticipantName,\n          avatar_filename: uploadedAvatarFilename\n        };\n        console.log('[Participants.js] Creating participant with data:', participantData);\n        const response = await createParticipant(participantData);\n        const createdParticipant = response.data;\n        console.log('[Participants.js] Participant created:', createdParticipant);\n\n        // Now associate the newly created participant with the current project\n        console.log(`[Participants.js] Associating participant ID: ${createdParticipant.id} with project ID: ${projectId}`);\n        await addParticipantToProject(projectId, createdParticipant.id);\n        console.log('[Participants.js] Participant associated with project successfully.');\n\n        // Re-fetch participants to update the UI\n        fetchProjectParticipants();\n        setSnackbarMessage('Participant added successfully!');\n        setSnackbarSeverity('success');\n        setSnackbarOpen(true);\n        handleAddDialogClose();\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('[Participants.js] Error adding participant:', error);\n        setSnackbarMessage(`Error adding participant: ${((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || error.message}`);\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n      }\n    } else {\n      // Adding an existing participant\n      if (!selectedExistingParticipant) {\n        setSnackbarMessage('Please select an existing participant.');\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n        return;\n      }\n      try {\n        console.log(`[Participants.js] Adding existing participant ID: ${selectedExistingParticipant} to project ID: ${projectId}`);\n        await addParticipantToProject(projectId, selectedExistingParticipant);\n        console.log('[Participants.js] Existing participant added to project successfully.');\n\n        // Re-fetch participants to update the UI\n        fetchProjectParticipants();\n        setSnackbarMessage(`Participant added to project successfully!`);\n        setSnackbarSeverity('success');\n        setSnackbarOpen(true);\n        handleAddDialogClose();\n      } catch (error) {\n        var _error$response2, _error$response2$data;\n        console.error('[Participants.js] Error adding existing participant to project:', error);\n        setSnackbarMessage(`Error adding existing participant to project: ${((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || error.message}`);\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n      }\n    }\n  };\n  const handleDeleteParticipant = async () => {\n    if (!participantToDelete) return;\n    try {\n      console.log(`[Participants.js] Deleting participant ID: ${participantToDelete.id} from project ID: ${projectId}`);\n      await removeParticipantFromProject(projectId, participantToDelete.id);\n      console.log('[Participants.js] Participant deleted successfully from backend.');\n\n      // Re-fetch participants to update the UI\n      fetchProjectParticipants();\n      setSnackbarMessage(`Participant \"${participantToDelete.name}\" deleted successfully`);\n      setSnackbarSeverity('success');\n      setSnackbarOpen(true);\n      handleDeleteDialogClose();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('[Participants.js] Error deleting participant:', error);\n      setSnackbarMessage(`Error deleting participant: ${((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.detail) || error.message}`);\n      setSnackbarSeverity('error');\n      setSnackbarOpen(true);\n    }\n  };\n  const handleAvatarChange = event => {\n    if (event.target.files && event.target.files[0]) {\n      setAvatarFile(event.target.files[0]);\n    }\n  };\n  const handleCloseSnackbar = () => {\n    setSnackbarOpen(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      flexGrow: 1\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Participants\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 22\n        }, this),\n        onClick: handleAddDialogOpen,\n        children: \"Add Participant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Typography, {\n      children: \"Loading participants...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this) : participants.length > 0 ? /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        sx: {\n          minWidth: 650\n        },\n        \"aria-label\": \"participants table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Avatar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: \"Responses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: participants.map(participant => /*#__PURE__*/_jsxDEV(TableRow, {\n            sx: {\n              '&:last-child td, &:last-child th': {\n                border: 0\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              component: \"th\",\n              scope: \"row\",\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                src: `http://localhost:8000${participant.avatar_path}`,\n                alt: participant.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: participant.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: participant.responses_count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: /*#__PURE__*/_jsxDEV(IconButton, {\n                \"aria-label\": \"delete\",\n                onClick: () => handleDeleteDialogOpen(participant),\n                color: \"error\",\n                children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this)]\n          }, participant.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center',\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        gutterBottom: true,\n        children: \"No participants found. Add your first participant to get started.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 24\n        }, this),\n        onClick: handleAddDialogOpen,\n        sx: {\n          mt: 2\n        },\n        children: \"Add Participant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openAddDialog,\n      onClose: handleAddDialogClose,\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Add Participant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            borderBottom: 1,\n            borderColor: 'divider',\n            mb: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(Tabs, {\n            value: addParticipantTab,\n            onChange: handleTabChange,\n            \"aria-label\": \"participant tabs\",\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"New Participant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Existing Participant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), addParticipantTab === 0 ?\n        /*#__PURE__*/\n        // New Participant Tab\n        _jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n            children: \"Enter the name and optionally upload an avatar for the new participant.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            autoFocus: true,\n            margin: \"dense\",\n            id: \"name\",\n            label: \"Participant Name\",\n            type: \"text\",\n            fullWidth: true,\n            variant: \"outlined\",\n            value: newParticipantName,\n            onChange: e => setNewParticipantName(e.target.value),\n            sx: {\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              component: \"label\",\n              startIcon: /*#__PURE__*/_jsxDEV(PhotoIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 30\n              }, this),\n              children: [\"Upload Avatar\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                hidden: true,\n                accept: \"image/*\",\n                onChange: handleAvatarChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), avatarFile && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                ml: 2,\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                src: URL.createObjectURL(avatarFile),\n                alt: \"Preview\",\n                sx: {\n                  width: 40,\n                  height: 40,\n                  mr: 1\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: avatarFile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // Existing Participant Tab\n        _jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n            children: \"Select an existing participant to add to this project.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            sx: {\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              id: \"existing-participant-label\",\n              children: \"Select Participant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              labelId: \"existing-participant-label\",\n              id: \"existing-participant\",\n              value: selectedExistingParticipant,\n              label: \"Select Participant\",\n              onChange: e => setSelectedExistingParticipant(e.target.value),\n              children: allParticipants.filter(p => !participants.some(existing => existing.name === p.name)).map(participant => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: participant.id,\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  sx: {\n                    display: 'flex',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                    src: `http://localhost:8000${participant.avatar_path}`,\n                    alt: participant.name,\n                    sx: {\n                      width: 24,\n                      height: 24,\n                      mr: 1\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 371,\n                    columnNumber: 27\n                  }, this), participant.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 25\n                }, this)\n              }, participant.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddDialogClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleAddParticipant,\n          variant: \"contained\",\n          disabled: addParticipantTab === 0 ? !newParticipantName.trim() : !selectedExistingParticipant,\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDeleteDialog,\n      onClose: handleDeleteDialogClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Delete Participant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: [\"Are you sure you want to delete the participant \\\"\", participantToDelete === null || participantToDelete === void 0 ? void 0 : participantToDelete.name, \"\\\"? This will also delete all of their responses.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeleteDialogClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleDeleteParticipant,\n          color: \"error\",\n          variant: \"contained\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: snackbarOpen,\n      autoHideDuration: 6000,\n      onClose: handleCloseSnackbar,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseSnackbar,\n        severity: snackbarSeverity,\n        sx: {\n          width: '100%'\n        },\n        children: snackbarMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n}\n_s(Participants, \"cOfGwI/18vwM3VB40hXILowLf/g=\", false, function () {\n  return [useParams];\n});\n_c = Participants;\nexport default Participants;\nvar _c;\n$RefreshReg$(_c, \"Participants\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","Typography","Box","Button","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","Avatar","IconButton","AddIcon","DeleteIcon","PhotoIcon","Snackbar","Alert","FormControl","InputLabel","MenuItem","Select","Tabs","Tab","getProjectParticipants","getAllParticipants","createParticipant","addParticipantToProject","removeParticipantFromProject","uploadAvatar","jsxDEV","_jsxDEV","Participants","_s","projectId","participants","setParticipants","allParticipants","setAllParticipants","loading","setLoading","openAddDialog","setOpenAddDialog","openDeleteDialog","setOpenDeleteDialog","participantToDelete","setParticipantToDelete","newParticipantName","setNewParticipantName","avatarFile","setAvatarFile","selectedExistingParticipant","setSelectedExistingParticipant","addParticipantTab","setAddParticipantTab","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","snackbarSeverity","setSnackbarSeverity","fetchProjectParticipants","console","log","response","Array","isArray","data","error","message","fetchAllParticipants","handleAddDialogOpen","handleAddDialogClose","handleTabChange","event","newValue","handleDeleteDialogOpen","participant","handleDeleteDialogClose","handleAddParticipant","trim","uploadedAvatarFilename","formData","FormData","append","name","avatarUploadResponse","filename","participantData","avatar_filename","createdParticipant","id","_error$response","_error$response$data","detail","_error$response2","_error$response2$data","handleDeleteParticipant","_error$response3","_error$response3$data","handleAvatarChange","target","files","handleCloseSnackbar","sx","flexGrow","children","display","justifyContent","alignItems","mb","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","startIcon","onClick","length","minWidth","align","map","border","scope","src","avatar_path","alt","responses_count","color","textAlign","py","mt","open","onClose","maxWidth","fullWidth","borderBottom","borderColor","value","onChange","label","autoFocus","margin","type","e","hidden","accept","ml","URL","createObjectURL","width","height","mr","labelId","filter","p","some","existing","disabled","autoHideDuration","anchorOrigin","vertical","horizontal","severity","_c","$RefreshReg$"],"sources":["/Users/mirror/WindSurf Projects/retro_arif/retromeet/frontend/react-admin/src/pages/Participants.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport TextField from '@mui/material/TextField';\nimport Avatar from '@mui/material/Avatar';\nimport IconButton from '@mui/material/IconButton';\nimport AddIcon from '@mui/icons-material/Add';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport PhotoIcon from '@mui/icons-material/Photo';\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert from '@mui/material/Alert';\nimport FormControl from '@mui/material/FormControl';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport Select from '@mui/material/Select';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport { getProjectParticipants, getAllParticipants, createParticipant, addParticipantToProject, removeParticipantFromProject, uploadAvatar } from '../services/api';\n\nfunction Participants() {\n  const { projectId } = useParams(); // This is a string\n  const [participants, setParticipants] = useState([]);\n  const [allParticipants, setAllParticipants] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [openAddDialog, setOpenAddDialog] = useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [participantToDelete, setParticipantToDelete] = useState(null);\n  const [newParticipantName, setNewParticipantName] = useState('');\n  const [avatarFile, setAvatarFile] = useState(null); // This will hold the File object\n  const [selectedExistingParticipant, setSelectedExistingParticipant] = useState('');\n  const [addParticipantTab, setAddParticipantTab] = useState(0); // 0 = New, 1 = Existing\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const [snackbarSeverity, setSnackbarSeverity] = useState('success');\n\n  // Fetch project participants\n  const fetchProjectParticipants = useCallback(async () => {\n    setLoading(true);\n    try {\n      console.log(`[Participants.js] Fetching participants for project ID: ${projectId}`);\n      const response = await getProjectParticipants(projectId);\n      setParticipants(Array.isArray(response.data) ? response.data : []);\n      console.log('[Participants.js] Fetched participants:', response.data);\n    } catch (error) {\n      console.error('[Participants.js] Error fetching project participants:', error);\n      setSnackbarMessage(`Error fetching participants: ${error.message}`);\n      setSnackbarSeverity('error');\n      setSnackbarOpen(true);\n      setParticipants([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [projectId]);\n\n  // Fetch all participants\n  const fetchAllParticipants = useCallback(async () => {\n    try {\n      console.log('[Participants.js] Fetching all participants');\n      const response = await getAllParticipants();\n      setAllParticipants(Array.isArray(response.data) ? response.data : []);\n      console.log('[Participants.js] Fetched all participants:', response.data);\n    } catch (error) {\n      console.error('[Participants.js] Error fetching all participants:', error);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchProjectParticipants();\n    fetchAllParticipants();\n  }, [fetchProjectParticipants, fetchAllParticipants]);\n\n  const handleAddDialogOpen = () => {\n    setOpenAddDialog(true);\n    setNewParticipantName('');\n    setAvatarFile(null);\n    setSelectedExistingParticipant('');\n    setAddParticipantTab(0); // Default to 'New Participant' tab\n  };\n\n  const handleAddDialogClose = () => {\n    setOpenAddDialog(false);\n    setNewParticipantName('');\n    setAvatarFile(null);\n    setSelectedExistingParticipant('');\n  };\n  \n  const handleTabChange = (event, newValue) => {\n    setAddParticipantTab(newValue);\n  };\n\n  const handleDeleteDialogOpen = (participant) => {\n    setParticipantToDelete(participant);\n    setOpenDeleteDialog(true);\n  };\n\n  const handleDeleteDialogClose = () => {\n    setOpenDeleteDialog(false);\n    setParticipantToDelete(null);\n  };\n\n  const handleAddParticipant = async () => {\n    if (addParticipantTab === 0) { // Adding a new participant\n      if (!newParticipantName.trim()) {\n        setSnackbarMessage('Participant name cannot be empty.');\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n        return;\n      }\n\n      try {\n        let uploadedAvatarFilename = null;\n        if (avatarFile) {\n          const formData = new FormData();\n          formData.append('file', avatarFile);\n          console.log('[Participants.js] Uploading avatar:', avatarFile.name);\n          const avatarUploadResponse = await uploadAvatar(formData);\n          uploadedAvatarFilename = avatarUploadResponse.data.filename;\n          console.log('[Participants.js] Avatar uploaded, filename:', uploadedAvatarFilename);\n        }\n\n        const participantData = {\n          name: newParticipantName,\n          avatar_filename: uploadedAvatarFilename,\n        };\n\n        console.log('[Participants.js] Creating participant with data:', participantData);\n        const response = await createParticipant(participantData);\n        const createdParticipant = response.data;\n        console.log('[Participants.js] Participant created:', createdParticipant);\n\n        // Now associate the newly created participant with the current project\n        console.log(`[Participants.js] Associating participant ID: ${createdParticipant.id} with project ID: ${projectId}`);\n        await addParticipantToProject(projectId, createdParticipant.id);\n        console.log('[Participants.js] Participant associated with project successfully.');\n\n        // Re-fetch participants to update the UI\n        fetchProjectParticipants(); \n\n        setSnackbarMessage('Participant added successfully!');\n        setSnackbarSeverity('success');\n        setSnackbarOpen(true);\n        handleAddDialogClose();\n      } catch (error) {\n        console.error('[Participants.js] Error adding participant:', error);\n        setSnackbarMessage(`Error adding participant: ${error.response?.data?.detail || error.message}`);\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n      }\n    } else { // Adding an existing participant\n      if (!selectedExistingParticipant) {\n        setSnackbarMessage('Please select an existing participant.');\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n        return;\n      }\n\n      try {\n        console.log(`[Participants.js] Adding existing participant ID: ${selectedExistingParticipant} to project ID: ${projectId}`);\n        await addParticipantToProject(projectId, selectedExistingParticipant);\n        console.log('[Participants.js] Existing participant added to project successfully.');\n\n        // Re-fetch participants to update the UI\n        fetchProjectParticipants();\n\n        setSnackbarMessage(`Participant added to project successfully!`);\n        setSnackbarSeverity('success');\n        setSnackbarOpen(true);\n        handleAddDialogClose();\n      } catch (error) {\n        console.error('[Participants.js] Error adding existing participant to project:', error);\n        setSnackbarMessage(`Error adding existing participant to project: ${error.response?.data?.detail || error.message}`);\n        setSnackbarSeverity('error');\n        setSnackbarOpen(true);\n      }\n    }\n  };\n\n  const handleDeleteParticipant = async () => {\n    if (!participantToDelete) return;\n\n    try {\n      console.log(`[Participants.js] Deleting participant ID: ${participantToDelete.id} from project ID: ${projectId}`);\n      await removeParticipantFromProject(projectId, participantToDelete.id);\n      console.log('[Participants.js] Participant deleted successfully from backend.');\n\n      // Re-fetch participants to update the UI\n      fetchProjectParticipants();\n\n      setSnackbarMessage(`Participant \"${participantToDelete.name}\" deleted successfully`);\n      setSnackbarSeverity('success');\n      setSnackbarOpen(true);\n      handleDeleteDialogClose();\n    } catch (error) {\n      console.error('[Participants.js] Error deleting participant:', error);\n      setSnackbarMessage(`Error deleting participant: ${error.response?.data?.detail || error.message}`);\n      setSnackbarSeverity('error');\n      setSnackbarOpen(true);\n    }\n  };\n\n  const handleAvatarChange = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      setAvatarFile(event.target.files[0]);\n    }\n  };\n\n  const handleCloseSnackbar = () => {\n    setSnackbarOpen(false);\n  };\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Participants\n        </Typography>\n        <Button \n          variant=\"contained\" \n          startIcon={<AddIcon />}\n          onClick={handleAddDialogOpen}\n        >\n          Add Participant\n        </Button>\n      </Box>\n\n      {loading ? (\n        <Typography>Loading participants...</Typography>\n      ) : participants.length > 0 ? (\n        <TableContainer component={Paper}>\n          <Table sx={{ minWidth: 650 }} aria-label=\"participants table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Avatar</TableCell>\n                <TableCell>Name</TableCell>\n                <TableCell align=\"center\">Responses</TableCell>\n                <TableCell align=\"right\">Actions</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {participants.map((participant) => (\n                <TableRow\n                  key={participant.id}\n                  sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                >\n                  <TableCell component=\"th\" scope=\"row\">\n                    <Avatar src={`http://localhost:8000${participant.avatar_path}`} alt={participant.name} />\n                  </TableCell>\n                  <TableCell>{participant.name}</TableCell>\n                  <TableCell align=\"center\">{participant.responses_count}</TableCell>\n                  <TableCell align=\"right\">\n                    <IconButton \n                      aria-label=\"delete\" \n                      onClick={() => handleDeleteDialogOpen(participant)}\n                      color=\"error\"\n                    >\n                      <DeleteIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      ) : (\n        <Box sx={{ textAlign: 'center', py: 4 }}>\n          <Typography variant=\"body1\" gutterBottom>\n            No participants found. Add your first participant to get started.\n          </Typography>\n          <Button \n            variant=\"contained\" \n            startIcon={<AddIcon />}\n            onClick={handleAddDialogOpen}\n            sx={{ mt: 2 }}\n          >\n            Add Participant\n          </Button>\n        </Box>\n      )}\n\n      {/* Add Participant Dialog */}\n      <Dialog open={openAddDialog} onClose={handleAddDialogClose} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>Add Participant</DialogTitle>\n        <DialogContent>\n          <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}>\n            <Tabs value={addParticipantTab} onChange={handleTabChange} aria-label=\"participant tabs\">\n              <Tab label=\"New Participant\" />\n              <Tab label=\"Existing Participant\" />\n            </Tabs>\n          </Box>\n          \n          {addParticipantTab === 0 ? (\n            // New Participant Tab\n            <Box>\n              <DialogContentText>\n                Enter the name and optionally upload an avatar for the new participant.\n              </DialogContentText>\n              <TextField\n                autoFocus\n                margin=\"dense\"\n                id=\"name\"\n                label=\"Participant Name\"\n                type=\"text\"\n                fullWidth\n                variant=\"outlined\"\n                value={newParticipantName}\n                onChange={(e) => setNewParticipantName(e.target.value)}\n                sx={{ mb: 2 }}\n              />\n              <Box sx={{ display: 'flex', alignItems: 'center', mt: 2 }}>\n                <Button\n                  variant=\"outlined\"\n                  component=\"label\"\n                  startIcon={<PhotoIcon />}\n                >\n                  Upload Avatar\n                  <input\n                    type=\"file\"\n                    hidden\n                    accept=\"image/*\"\n                    onChange={handleAvatarChange}\n                  />\n                </Button>\n                {avatarFile && (\n                  <Box sx={{ ml: 2, display: 'flex', alignItems: 'center' }}>\n                    <Avatar \n                      src={URL.createObjectURL(avatarFile)} \n                      alt=\"Preview\"\n                      sx={{ width: 40, height: 40, mr: 1 }}\n                    />\n                    <Typography variant=\"body2\">\n                      {avatarFile.name}\n                    </Typography>\n                  </Box>\n                )}\n              </Box>\n            </Box>\n          ) : (\n            // Existing Participant Tab\n            <Box>\n              <DialogContentText>\n                Select an existing participant to add to this project.\n              </DialogContentText>\n              <FormControl fullWidth sx={{ mt: 2 }}>\n                <InputLabel id=\"existing-participant-label\">Select Participant</InputLabel>\n                <Select\n                  labelId=\"existing-participant-label\"\n                  id=\"existing-participant\"\n                  value={selectedExistingParticipant}\n                  label=\"Select Participant\"\n                  onChange={(e) => setSelectedExistingParticipant(e.target.value)}\n                >\n                  {allParticipants\n                    .filter(p => !participants.some(existing => existing.name === p.name))\n                    .map((participant) => (\n                      <MenuItem key={participant.id} value={participant.id}>\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                          <Avatar \n                            src={`http://localhost:8000${participant.avatar_path}`} \n                            alt={participant.name}\n                            sx={{ width: 24, height: 24, mr: 1 }}\n                          />\n                          {participant.name}\n                        </Box>\n                      </MenuItem>\n                    ))}\n                </Select>\n              </FormControl>\n            </Box>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleAddDialogClose}>Cancel</Button>\n          <Button \n            onClick={handleAddParticipant} \n            variant=\"contained\" \n            disabled={addParticipantTab === 0 ? !newParticipantName.trim() : !selectedExistingParticipant}\n          >\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Delete Participant Dialog */}\n      <Dialog\n        open={openDeleteDialog}\n        onClose={handleDeleteDialogClose}\n      >\n        <DialogTitle>Delete Participant</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete the participant \"{participantToDelete?.name}\"? This will also delete all of their responses.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleDeleteDialogClose}>Cancel</Button>\n          <Button onClick={handleDeleteParticipant} color=\"error\" variant=\"contained\">\n            Delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbarOpen}\n        autoHideDuration={6000}\n        onClose={handleCloseSnackbar}\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\n      >\n        <Alert onClose={handleCloseSnackbar} severity={snackbarSeverity} sx={{ width: '100%' }}>\n          {snackbarMessage}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n}\n\nexport default Participants;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}